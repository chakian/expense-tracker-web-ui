configuration: Release
cache:
  - packages -> **\packages.config

before_build:
- cmd: >-
    nuget restore ExpenseTracker/ExpenseTracker.sln

build:
  project: ExpenseTracker/ExpenseTracker.sln
  verbosity: minimal

after_build:
  - ps: $root = Resolve-Path .\ExpenseTracker\ExpenseTracker.WebUI; [IO.Directory]::GetFiles($root.Path, '*.*', 'AllDirectories') | % { Push-AppveyorArtifact $_ -FileName $_.Substring($root.Path.Length + 1) -DeploymentName to-publish }
  - ps: Get-ChildItem -Path c:\projects\expense-tracker-web-ui


deploy:
 provider: Environment
 name: Harcama-Test
 on:
   branch: develop-no
